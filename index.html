<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hokkaido Brand Visualizer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Questrial&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- 画像プレビューモーダル -->
    <div id="image-modal-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center">
        <div class="relative bg-white rounded-lg shadow-lg p-2">
            <button id="image-modal-close" class="absolute top-2 right-2 text-gray-400 hover:text-gray-700 text-2xl" aria-label="閉じる">&times;</button>
            <img id="image-modal-img" src="" alt="拡大画像" class="max-w-[90vw] max-h-[80vh] rounded-lg shadow" />
        </div>
    </div>
    <div class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4">
        <div class="max-w-7xl mx-auto">
            <div class="bg-white rounded-2xl shadow-xl overflow-hidden">
                <!-- ヘッダー -->
                <div class="bg-gradient-to-r from-green-700 to-teal-400 text-white p-6">
                    <div class="flex items-center justify-between">
                         <div class="flex items-center space-x-3">
                                <svg class="w-12 h-12" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="currentColor">
                                    <g>
                                        <path class="st0" d="M510.394,269.967c-1.135-1.242-2.735-1.972-4.425-2.006l-25.335-0.58c-3.198-0.067-6.09-1.906-7.525-4.773
                                            l-11.925-23.851c-1.102-2.188-1.21-4.756-0.298-7.044l23.469-59.071c0.738-1.84,0.539-3.928-0.539-5.602l-2.378-3.696
                                            c-0.904-1.408-2.354-2.387-4.003-2.718c-1.65-0.315-3.365,0.049-4.732,1.011l-48.315,34.111c-2.271,1.607-5.179,2.005-7.815,1.094
                                            l-73.682-25.592c-1.326-0.464-2.528-1.242-3.489-2.27L217.033,37.51c-0.423-0.464-0.903-0.878-1.417-1.227L185.84,15.714
                                            c-2.686-1.84-6.34-1.292-8.354,1.276l-22.102,28.127c-1.334,1.69-1.989,3.828-1.824,5.967l6.448,87.032
                                            c0.024,0.315,0.024,0.631,0.017,0.928l-1.575,47.188c-0.058,1.84-0.696,3.597-1.823,5.038l-22.691,29.072
                                            c-1.574,2.022-2.179,4.641-1.624,7.144l8.329,38.204c0.564,2.586-0.092,5.288-1.774,7.343l-9.738,11.768
                                            c-2.171,2.635-5.694,3.746-8.975,2.818l-13.326-3.729c-1.5-0.415-3.092-0.431-4.6-0.017l-11.966,3.266
                                            c-2.66,0.729-5.512,0.132-7.666-1.591l-13.98-11.188c-2.254-1.807-5.271-2.353-8.022-1.475l-9.083,2.901
                                            c-1.815,0.58-3.257,1.972-3.912,3.746c-0.654,1.79-0.456,3.779,0.555,5.387l12.067,19.425c1.873,3,1.716,6.846-0.39,9.696
                                            l-12.058,16.259c-0.837,1.127-1.939,2.039-3.207,2.652l-32.842,15.713c-2.462,1.177-4.227,3.447-4.749,6.116l-6.812,34.773
                                            c-0.489,2.454,0.124,5.006,1.674,6.978l19.608,25.011c1.492,1.922,2.122,4.358,1.724,6.746l-9.265,55.574
                                            c-0.621,3.73,1.268,7.442,4.657,9.133l6.92,3.464c3.472,1.74,7.682,0.944,10.276-1.956l37.309-41.452
                                            c2.262-2.503,5.777-3.464,9.008-2.453l19.301,6.066c2.984,0.945,6.249,0.182,8.519-1.972l5.155-4.873
                                            c1.798-1.707,2.784-4.11,2.685-6.596c-0.1-2.486-1.26-4.807-3.191-6.382l-21.779-17.652c-1.111-0.912-2.42-1.508-3.821-1.774
                                            l-13.591-2.602c-1.276-0.232-2.486-0.762-3.53-1.541l-22.036-16.376c-3.365-2.486-4.45-7.044-2.577-10.79l10.782-21.564
                                            c1.674-3.332,5.304-5.221,9.008-4.674l10.616,1.591l29.122,27.712c3.09,2.934,7.848,3.182,11.22,0.58l40.806-31.442
                                            c2.801-2.155,6.638-2.386,9.679-0.58l123.381,73.26c1.542,0.911,3.407,1.11,5.106,0.546c1.706-0.58,3.074-1.856,3.754-3.514
                                            l25.4-62.104c0.456-1.111,1.127-2.105,1.989-2.934l40.69-39.381c1.873-1.824,4.467-2.685,7.06-2.37l37.375,4.591
                                            c1.65,0.216,3.316-0.066,4.808-0.779l90.38-43.608c1.981-0.961,3.307-2.916,3.464-5.121l0.134-1.757
                                            C512.101,272.884,511.53,271.227,510.394,269.967z"></path>
                                    </g>
                                </svg>
                                <div>
                                 <h1 class="text-2xl font-bold header-title">Hokkaido Bland Visualizer</h1>
                                 <p class="text-base opacity-80">ver.20251023</p>
                                </div>
                            </div>
                        <!-- ヘルプボタンを右端に -->
                        <button id="help-btn" class="ml-4 p-2 rounded-full bg-white bg-opacity-20 hover:bg-opacity-40 transition" title="使い方">
                            <i data-lucide="help-circle" class="w-7 h-7 text-white"></i>
                        </button>
                    </div>
                </div>
                <div class="p-6 space-y-6">
                    <div class="p-6 flex flex-col md:flex-row gap-8">
                        <!-- 左カラム -->
                       <div class="md:w-7/12 space-y-6 min-w-0">
                            <!-- ステップ1: キーワード選択 -->
                            <div class="space-y-4">
                                <div class="flex items-center space-x-2">
                                    <div class="bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold">1</div>
                                    <h2 class="text-lg font-semibold text-gray-800">キーワードを選択</h2>
                                </div>
                                <div id="keywords-container" class="min-w-full"></div>
                            </div>
                            <!-- ステップ2: 色調選択 -->
                            <div class="space-y-4">
                                <div class="flex items-center space-x-2">
                                    <div class="bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold">2</div>
                                    <h2 class="text-lg font-semibold text-gray-800">色調を選択</h2>
                                </div>
                                <div id="color-tones"></div>
                                <div class="mt-2 flex items-center gap-2">
                                    <label for="custom-color-tone" class="text-gray-700">その他（色名等を入力）:</label>
                                    <input type="text" id="custom-color-tone" class="border rounded px-2 py-1 w-40" placeholder="例: クリーム色" />
                                </div>
                            </div>
                            <!-- ステップ3: モチーフ -->
                            <div class="space-y-4">
                                <div class="flex items-center space-x-2">
                                    <div class="bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold">3</div>
                                    <h2 class="text-lg font-semibold text-gray-800">モチーフを選択</h2>
                                </div>
                                <div id="motif-options"></div>
                                <div class="mt-2 flex items-center gap-2">
                                    <label for="custom-motif" class="text-gray-700">その他（モチーフを入力）:</label>
                                    <input type="text" id="custom-motif" class="border rounded px-2 py-1 w-40" placeholder="例: ライラック" />
                                </div>
                            </div>
                        </div>
                        <!-- 右カラム -->
                        <div class="md:w-5/12 flex flex-col gap-6 min-w-0">
                             <!-- 参考画像 見出し -->
                            <div>
                                <h2 class="text-base font-semibold text-gray-700 mb-2">参考画像</h2>
                                <div id="image-display-area" class="min-w-full text-center py-4">
                                    <div id="dynamic-image-grid" class="grid grid-cols-2 md:grid-cols-3 gap-4 px-2"></div>
                                </div>
                            </div>
                            <!-- アクションボタン -->
                            <div class="flex flex-col gap-2">
                                <!-- プロンプトを表示ボタン（横長） -->
                                <button id="show-prompt-btn"
                                    class="w-full bg-gradient-to-r from-blue-600 to-indigo-700 text-white py-3 px-6 rounded-lg font-semibold disabled:from-gray-300 disabled:to-gray-400 disabled:cursor-not-allowed hover:from-blue-700 hover:to-indigo-800 transition-all duration-200"
                                    disabled>
                                    プロンプトを表示
                                </button>
                                <!-- コピー・リセットボタン（横並び） -->
                                <div class="flex flex-row gap-2">
                                    <button id="copy-prompt-btn"
                                        class="flex-1 flex items-center justify-center space-x-2 bg-green-600 text-white py-3 px-6 rounded-lg font-semibold disabled:bg-gray-300 disabled:cursor-not-allowed hover:bg-green-700 transition-all duration-200"
                                        disabled>
                                        <i data-lucide="copy" class="w-4 h-4"></i>
                                        <span>プロンプトをコピー</span>
                                    </button>
                                    <button id="reset-btn"
                                        class="flex-1 bg-gray-500 text-white py-3 px-6 rounded-lg font-semibold hover:bg-gray-600 transition-all duration-200">
                                        リセット
                                    </button>
                            </div>
                            <!-- コピー成功メッセージ -->
                            <div id="copy-message" class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg hidden"></div>
                            <!-- プロンプト表示エリア -->
                            <div id="prompt-display" class="bg-gray-50 border-2 border-gray-200 rounded-lg p-6 space-y-4 hidden">
                                <h3 class="text-lg font-semibold text-gray-800 flex items-center space-x-2">
                                    <i data-lucide="scroll-text" class="w-5 h-5"></i>
                                    <span>画像生成用プロンプト</span>
                                </h3>
                                <div class="bg-white border border-gray-300 rounded-lg p-4">
                                    <code id="generated-prompt" class="text-sm text-gray-700 break-words"></code>
                                </div>
                                <div id="selection-summary" class="text-sm text-gray-600 space-y-1"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="help-modal-overlay" class="fixed inset-0 bg-black bg-opacity-30 z-50 hidden flex items-center justify-center">
        <div class="bg-white rounded-lg shadow-lg max-w-2xl w-full p-6 relative">
            <button id="help-modal-close" class="absolute top-2 right-2 text-gray-400 hover:text-gray-700 text-2xl" aria-label="閉じる">&times;</button>
            <h2 class="text-xl font-bold mb-4">使い方ガイド</h2>
            <ol class="list-decimal pl-5 space-y-2 text-gray-700">
                <li>イメージに近いキーワードや色調、モチーフを選択します。</li>
                <li>選択内容に関連した画像が表示されます。サムネイルをクリックすると拡大表示されます。</li>
                <li>「プロンプトを表示」ボタンでAI画像生成用のプロンプトが表示されます。</li>
                <li>「コピー」ボタンでプロンプトをクリップボードにコピーできます。</li>
                <li>「リセット」ボタンで選択状態を解除できます。</li>
            </ol>
             <p class="text-gray-700 mt-4">※本ツールの参考画像はすべてGoogle社のWhiskを用いて生成しています。</p>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
